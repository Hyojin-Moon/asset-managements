# 페이지별 UI/UX 상세 설명

## 네비게이션 구조

### 데스크탑 (사이드바)

```
┌─────────────────────────────────────────┐
│ 💰 우리 가계부                          │
├─────────────────────────────────────────┤
│ 📊 대시보드         ← /dashboard        │
│ 💵 수입 관리        ← /income           │
│ 💳 지출 관리        ← /expenses         │
│ 📋 거래 내역        ← /transactions     │
│ 📤 카드 업로드      ← /card-upload      │
│ 📅 캘린더           ← /calendar         │
│ 🏦 저축             ← /savings          │
│ 📈 리포트           ← /reports          │
│ ⚙️ 설정             ← /settings         │
├─────────────────────────────────────────┤
│ 효진 (또는 호영)    ← 현재 로그인 유저  │
│ [로그아웃]                              │
└─────────────────────────────────────────┘
```

### 모바일 (하단 탭)

```
┌─────────────────────────────┐
│         (콘텐츠 영역)        │
├─────┬─────┬─────┬─────┬─────┤
│ 홈  │거래 │ ＋  │리포트│더보기│
└─────┴─────┴─────┴─────┴─────┘
```

- **홈**: 대시보드
- **거래**: 거래 내역 목록
- **＋**: 거래 추가 (FAB 스타일, 원형 버튼)
- **리포트**: 리포트 허브
- **더보기**: 수입/지출/카드업로드/캘린더/저축/설정 목록

---

## 1. 로그인 페이지 (`/login`)

### 레이아웃
- 중앙 정렬 카드 UI
- 앱 로고/이름 상단 배치

### 구성요소
```
┌────────────────────────────┐
│                            │
│       💰 우리 가계부       │
│                            │
│  ┌──────────────────────┐  │
│  │ 이메일               │  │
│  └──────────────────────┘  │
│  ┌──────────────────────┐  │
│  │ 비밀번호             │  │
│  └──────────────────────┘  │
│                            │
│  [      로그인      ]      │
│                            │
│  에러 메시지 표시 영역     │
│                            │
└────────────────────────────┘
```

### 동작
- React Hook Form + Zod 유효성 검증
- Server Action 호출 → Supabase Auth signInWithPassword
- 성공 시 `/dashboard`로 리다이렉트
- 실패 시 에러 메시지 표시 (sonner 토스트)
- 회원가입 링크 없음 (수동 생성만)

---

## 2. 대시보드 (`/dashboard`)

### 레이아웃
- 상단: 월 선택기
- 요약 바: 3개 카드 (총수입, 총지출, 잔액)
- 그리드: 6개 카드

### 월 선택기
```
[◀] 2026년 2월 [▶]
```
- 좌/우 화살표로 월 이동
- 클릭 시 월 선택 드롭다운

### 요약 바
```
┌──────────────┬──────────────┬──────────────┐
│   총수입     │    총지출    │     잔액     │
│ 5,800,000원  │ 3,200,000원 │ 2,600,000원  │
│   +3.2% ▲   │   -1.5% ▼   │   +12% ▲    │
└──────────────┴──────────────┴──────────────┘
```
- 전월 대비 증감률 표시
- 수입: 파란색, 지출: 빨간색, 잔액: 초록색

### 카드 그리드 (2x3 데스크탑, 1열 모바일)

#### 카드 1: 수입 vs 지출 바차트
- Recharts BarChart
- X축: 월 (최근 6개월)
- Y축: 금액
- 수입(파란)과 지출(빨간) 바 나란히

#### 카드 2: 개인별 지출
```
효진  ████████████  1,200,000원
호영  ██████████    1,000,000원
정우  ████          400,000원
공통  ██████        600,000원
```
- 가로 막대 + 금액

#### 카드 3: 카테고리별 파이차트
- Recharts PieChart
- 상위 5개 카테고리 + 기타
- 범례 포함

#### 카드 4: 최근 거래
```
┌──────────────────────────────────┐
│ 최근 거래                 [전체] │
├──────────────────────────────────┤
│ 🔴 배달의민족  식비  -32,000원  │
│ 🔴 CU편의점    식비   -5,800원  │
│ 🔵 급여       수입 +3,500,000원 │
│ 🔴 택시       교통비 -15,000원  │
│ 🔴 스타벅스   식비    -6,500원  │
└──────────────────────────────────┘
```
- 최근 5건 표시
- [전체] 클릭 시 /transactions 이동

#### 카드 5: 다가오는 이벤트
```
┌──────────────────────────────────┐
│ 다가오는 이벤트           [전체] │
├──────────────────────────────────┤
│ 2/14 발렌타인데이   ~50,000원   │
│ 2/20 친구 결혼식   ~100,000원   │
│ 3/1  정우 생일     ~200,000원   │
└──────────────────────────────────┘
```

#### 카드 6: 저축 현황
```
┌──────────────────────────────────┐
│ 저축 현황                 [전체] │
├──────────────────────────────────┤
│ 비상금                          │
│ ████████░░  800만/1,000만  80%  │
│                                  │
│ 여행자금                        │
│ ████░░░░░░  200만/500만   40%   │
│                                  │
│ 정우 교육비                     │
│ ██░░░░░░░░  100만/500만   20%   │
└──────────────────────────────────┘
```

---

## 3. 수입 관리 (`/income`)

### 레이아웃
- 페이지 제목 + 추가 버튼
- 인물별 탭 (전체 | 효진 | 호영 | 공통)
- 테이블 목록

### 테이블
```
┌────────┬──────────┬───────────┬──────────┬──────────┬────────┐
│ 인물   │ 항목명   │ 금액      │ 시작월   │ 종료월   │ 관리   │
├────────┼──────────┼───────────┼──────────┼──────────┼────────┤
│ 효진   │ 급여     │ 3,500,000 │ 2025-01  │ -        │ ✏️ 🗑️ │
│ 호영   │ 급여     │ 3,000,000 │ 2025-01  │ -        │ ✏️ 🗑️ │
│ 호영   │ 부수입   │ 500,000   │ 2025-03  │ 2025-12  │ ✏️ 🗑️ │
│ 공통   │ 이자수입 │ 50,000    │ 2025-01  │ -        │ ✏️ 🗑️ │
├────────┼──────────┼───────────┼──────────┼──────────┼────────┤
│        │          │ 합계: 7,050,000원               │        │
└────────┴──────────┴───────────┴──────────┴──────────┴────────┘
```

### 추가/수정 모달
```
┌─────────────────────────────────┐
│ 수입 항목 추가                  │
├─────────────────────────────────┤
│ 인물:     [효진 ▼]             │
│ 항목명:   [__________________] │
│ 금액:     [__________________] │
│ 반복:     [매월 ▼]            │
│ 시작월:   [2026-01]           │
│ 종료월:   [비어있으면 무기한]  │
│ 메모:     [__________________] │
├─────────────────────────────────┤
│         [취소]  [저장]          │
└─────────────────────────────────┘
```

---

## 4. 지출 관리 (`/expenses`)

### 레이아웃
- 수입 관리와 동일한 구조
- 인물별 탭 (전체 | 효진 | 호영 | 정우 | 공통)
- 카테고리 컬럼 추가

### 테이블
```
┌────────┬──────────┬──────────┬───────────┬──────────┬──────────┬────────┐
│ 인물   │ 카테고리 │ 항목명   │ 금액      │ 시작월   │ 종료월   │ 관리   │
├────────┼──────────┼──────────┼───────────┼──────────┼──────────┼────────┤
│ 공통   │ 주거비   │ 월세     │ 800,000   │ 2025-01  │ -        │ ✏️ 🗑️ │
│ 효진   │ 보험     │ 실손보험 │ 50,000    │ 2025-01  │ -        │ ✏️ 🗑️ │
│ 호영   │ 교통비   │ 교통카드 │ 100,000   │ 2025-01  │ -        │ ✏️ 🗑️ │
│ 정우   │ 교육비   │ 학원비   │ 300,000   │ 2025-03  │ -        │ ✏️ 🗑️ │
└────────┴──────────┴──────────┴───────────┴──────────┴──────────┴────────┘
```

---

## 5. 거래 내역 (`/transactions`)

### 레이아웃
- 상단: 필터 바
- 중앙: 거래 목록
- 하단: 페이지네이션

### 필터 바
```
┌──────────────────────────────────────────────────────────────────┐
│ [2026년 2월 ▼]  [전체 인물 ▼]  [전체 카테고리 ▼]  [🔍 검색...] │
│ [수입] [지출] [전체]                              [+ 거래 추가]  │
└──────────────────────────────────────────────────────────────────┘
```

### 거래 목록
```
── 2026년 2월 9일 (일) ──────────────────────────

🔴 배달의민족       효진  식비      -32,000원
🔴 CU 편의점       호영  식비       -5,800원

── 2026년 2월 8일 (토) ──────────────────────────

🔴 카카오택시       효진  교통비    -15,000원
🔴 스타벅스         공통  식비       -6,500원
🔵 부수입           호영  수입     +500,000원

── 2026년 2월 7일 (금) ──────────────────────────
...
```
- 날짜별 그룹핑
- 수입: 파란색 / 지출: 빨간색
- 각 항목 클릭 시 수정 모달
- 스와이프 삭제 (모바일)

### 거래 추가 (`/transactions/new`)

```
┌─────────────────────────────────┐
│ 거래 추가                       │
├─────────────────────────────────┤
│ 타입:     (수입)  (지출)        │
│ 인물:     [효진 ▼]             │
│ 카테고리: [식비 ▼]             │
│ 설명:     [배달의민족]          │
│ 금액:     [32,000]             │
│ 날짜:     [2026-02-09]         │
│ 카드:     [삼성 ▼] (선택사항)  │
│ 비상지출: [ ] 체크              │
│ 메모:     [__________________]  │
├─────────────────────────────────┤
│       [취소]  [저장]            │
└─────────────────────────────────┘
```

---

## 6. 카드 명세서 업로드 (`/card-upload`)

### Step 1: 파일 업로드

```
┌─────────────────────────────────────────┐
│ 카드 명세서 업로드                       │
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐    │
│  │                                 │    │
│  │   📂 파일을 여기에 드래그하거나  │    │
│  │      클릭하여 선택하세요         │    │
│  │                                 │    │
│  │   .xlsx, .xls 파일 지원         │    │
│  │                                 │    │
│  └─────────────────────────────────┘    │
│                                         │
│  카드사:   [삼성카드 ▼]                 │
│  소유자:   [효진 ▼]                     │
│  대상월:   [2026년 2월 ▼]              │
│                                         │
│  [          업로드 및 파싱          ]    │
│                                         │
├─────────────────────────────────────────┤
│ 최근 업로드 기록                         │
├─────────────────────────────────────────┤
│ 2026-02 삼성카드 효진  45건  확정완료    │
│ 2026-01 국민카드 호영  38건  확정완료    │
│ 2026-01 삼성카드 효진  42건  확정완료    │
└─────────────────────────────────────────┘
```

### Step 2: 파싱 결과 리뷰 (`/card-upload/[importId]`)

```
┌──────────────────────────────────────────────────────────────────┐
│ 2026년 2월 삼성카드 (효진) - 45건                               │
│ 자동분류: 32건 (71%) | 미분류: 13건                             │
├──────────────────────────────────────────────────────────────────┤
│ [미분류만 보기] [전체 보기]                                      │
├──────────┬──────────────┬──────────┬───────────┬────────┬───────┤
│ 날짜     │ 가맹점명     │ 금액     │ 카테고리  │ 자동?  │ 제외  │
├──────────┼──────────────┼──────────┼───────────┼────────┼───────┤
│ 02/01    │ 배달의민족   │ 32,000   │ 식비 ✅   │ 자동   │ [ ]   │
│ 02/01    │ CU편의점     │ 5,800    │ 식비 ✅   │ 자동   │ [ ]   │
│ 02/02    │ (주)ABC마트  │ 89,000   │ [선택▼]   │ 수동   │ [ ]   │
│ 02/02    │ 네이버페이   │ 15,000   │ [선택▼]   │ 수동   │ [ ]   │
│ 02/03    │ 스타벅스     │ 6,500    │ 식비 ✅   │ 자동   │ [ ]   │
│ ...      │ ...          │ ...      │ ...       │ ...    │ ...   │
├──────────┴──────────────┴──────────┴───────────┴────────┴───────┤
│ 합계: 1,234,500원                                               │
│                                                                  │
│ 💡 "ABC마트"를 [의류/미용]으로 자동분류 규칙에 추가할까요?       │
│    [예, 추가]  [아니요]                                         │
│                                                                  │
│ [취소]                                    [확정 → 거래내역 저장] │
└──────────────────────────────────────────────────────────────────┘
```

### 동작
1. 파일 드롭 → SheetJS로 파싱
2. 카드사별 파서가 컬럼 매핑
3. `category_mapping_rules`로 자동 분류
4. 수동 분류 시 규칙 추가 제안
5. 확정 시 `transactions` 테이블에 벌크 INSERT

---

## 7. 이벤트 캘린더 (`/calendar`)

### 레이아웃
```
┌──────────────────────────────────────────┐
│ [◀] 2026년 2월 [▶]        [+ 이벤트]   │
├──────────────────────────────────────────┤
│ 일  월  화  수  목  금  토              │
├────┬────┬────┬────┬────┬────┬────┤
│    │    │    │    │    │    │ 1  │
│    │    │    │    │    │    │    │
├────┼────┼────┼────┼────┼────┼────┤
│ 2  │ 3  │ 4  │ 5  │ 6  │ 7  │ 8  │
│    │    │    │    │    │    │    │
├────┼────┼────┼────┼────┼────┼────┤
│ 9  │ 10 │ 11 │ 12 │ 13 │ 14 │ 15 │
│    │    │    │    │    │🎀  │    │
│    │    │    │    │    │발렌│    │
├────┼────┼────┼────┼────┼────┼────┤
│ 16 │ 17 │ 18 │ 19 │ 20 │ 21 │ 22 │
│    │    │    │    │💒  │    │    │
│    │    │    │    │결혼│    │    │
├────┼────┼────┼────┼────┼────┼────┤
│ 23 │ 24 │ 25 │ 26 │ 27 │ 28 │    │
│    │    │    │    │    │    │    │
└────┴────┴────┴────┴────┴────┴────┘
├──────────────────────────────────────────┤
│ 이번 달 이벤트                           │
├──────────────────────────────────────────┤
│ 📅 2/14 발렌타인데이                     │
│    예상: 50,000원  실제: -               │
│                                          │
│ 📅 2/20 친구 결혼식                      │
│    예상: 100,000원  실제: -              │
└──────────────────────────────────────────┘
```

### 이벤트 추가/수정 모달
```
┌─────────────────────────────────┐
│ 이벤트 추가                     │
├─────────────────────────────────┤
│ 제목:     [_________________]  │
│ 날짜:     [2026-02-14]         │
│ 종료일:   [선택사항]           │
│ 인물:     [공통 ▼]            │
│ 예상비용: [50,000]             │
│ 실제비용: [선택사항]           │
│ 설명:     [_________________]  │
├─────────────────────────────────┤
│       [취소]  [저장]            │
└─────────────────────────────────┘
```

---

## 8. 저축 현황 (`/savings`)

### 레이아웃
```
┌──────────────────────────────────────────────────────┐
│ 저축 현황                              [+ 계좌 추가] │
├──────────────────────────────────────────────────────┤
│ 총 저축액: 11,000,000원                              │
├──────────────────────────────────────────────────────┤
│                                                      │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 비상금 (공통)                                    │ │
│ │ ████████████████████░░░░░  800만 / 1,000만  80%  │ │
│ │                                                  │ │
│ │ 최근 내역:                                       │ │
│ │  2/1  +500,000원  매월 적금                      │ │
│ │  1/15 -200,000원  비상 출금                      │ │
│ │                                [+ 입금] [- 출금] │ │
│ └──────────────────────────────────────────────────┘ │
│                                                      │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 여행자금 (공통)                                  │ │
│ │ ████████░░░░░░░░░░░░░░░░░  200만 / 500만   40%  │ │
│ │                                [+ 입금] [- 출금] │ │
│ └──────────────────────────────────────────────────┘ │
│                                                      │
│ ┌──────────────────────────────────────────────────┐ │
│ │ 정우 교육비 (정우)                               │ │
│ │ ████░░░░░░░░░░░░░░░░░░░░░  100만 / 500만   20%  │ │
│ │                                [+ 입금] [- 출금] │ │
│ └──────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────┘
```

---

## 9. 리포트 허브 (`/reports`)

### 레이아웃
```
┌──────────────────────────────────────────┐
│ 리포트                                   │
├──────────────────────────────────────────┤
│                                          │
│ ┌──────────┐ ┌──────────┐ ┌──────────┐ │
│ │ 📊       │ │ 📈       │ │ 📉       │ │
│ │ 월간     │ │ 분기     │ │ 연간     │ │
│ │ 리포트   │ │ 리포트   │ │ 리포트   │ │
│ │          │ │          │ │          │ │
│ │ 2월 현황 │ │ Q1 트렌드│ │ 연간추이 │ │
│ └──────────┘ └──────────┘ └──────────┘ │
│                                          │
└──────────────────────────────────────────┘
```

### 월간 리포트 (`/reports/monthly`)

```
┌──────────────────────────────────────────────────────┐
│ [◀] 2026년 2월 월간 리포트 [▶]                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│ ── 예산 vs 실제 ────────────────────────────          │
│                                                      │
│ [바차트: 카테고리별 예산 vs 실제 지출]               │
│                                                      │
│ ┌────────────┬───────────┬───────────┬──────────┐   │
│ │ 카테고리   │ 예산      │ 실제      │ 차이     │   │
│ ├────────────┼───────────┼───────────┼──────────┤   │
│ │ 식비       │ 500,000   │ 420,000   │ -80,000  │   │
│ │ 교통비     │ 200,000   │ 230,000   │ +30,000🔴│   │
│ │ 주거비     │ 800,000   │ 800,000   │ 0        │   │
│ │ ...        │ ...       │ ...       │ ...      │   │
│ └────────────┴───────────┴───────────┴──────────┘   │
│                                                      │
│ ── 개인별 지출 ─────────────────────────              │
│                                                      │
│ [파이차트: 인물별 지출 비율]                          │
│                                                      │
│ ── 일별 지출 추이 ──────────────────────              │
│                                                      │
│ [라인차트: 일자별 누적 지출]                          │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### 분기 리포트 (`/reports/quarterly`)

```
┌──────────────────────────────────────────────────────┐
│ 2026년 Q1 (1월~3월) 분기 리포트                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│ [라인차트: 3개월 수입/지출 트렌드]                    │
│                                                      │
│ ── 월별 비교 ──────────────────────────               │
│ ┌────────┬───────────┬───────────┬──────────┐       │
│ │ 월     │ 수입      │ 지출      │ 잔액     │       │
│ ├────────┼───────────┼───────────┼──────────┤       │
│ │ 1월    │ 5,800,000 │ 3,100,000 │ 2,700,000│       │
│ │ 2월    │ 5,800,000 │ 3,200,000 │ 2,600,000│       │
│ │ 3월    │ 예상      │ 예상      │ 예상     │       │
│ └────────┴───────────┴───────────┴──────────┘       │
│                                                      │
│ ── 카테고리별 3개월 추이 ───────────                  │
│ [스택 바차트: 카테고리별 월간 비교]                    │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### 연간 리포트 (`/reports/yearly`)

```
┌──────────────────────────────────────────────────────┐
│ 2026년 연간 리포트                                    │
├──────────────────────────────────────────────────────┤
│                                                      │
│ [라인차트: 12개월 수입/지출/잔액 추이]                │
│                                                      │
│ ── 연간 요약 ──────────────────────────               │
│ 총 수입: 69,600,000원                                │
│ 총 지출: 38,400,000원                                │
│ 총 잔액: 31,200,000원                                │
│ 저축률: 44.8%                                        │
│                                                      │
│ ── 카테고리별 연간 지출 ───────────                   │
│ [수평 바차트: 카테고리별 연간 합계]                    │
│                                                      │
│ ── 개인별 연간 지출 ───────────                       │
│ [파이차트: 인물별 연간 지출 비율]                      │
│                                                      │
└──────────────────────────────────────────────────────┘
```

---

## 10. 설정 (`/settings`)

### 레이아웃
```
┌──────────────────────────────────────────┐
│ 설정                                     │
├──────────────────────────────────────────┤
│                                          │
│ ── 카테고리 관리 ─────────────            │
│                                          │
│ [드래그 정렬 가능한 카테고리 목록]       │
│                                          │
│ 1. 식비         [✏️] [🗑️]              │
│ 2. 교통비       [✏️] [🗑️]              │
│ 3. 주거비       [✏️] [🗑️]              │
│ ...                                      │
│ [+ 카테고리 추가]                        │
│                                          │
│ ── 자동분류 규칙 ─────────────            │
│                                          │
│ ┌──────────────┬──────────┬────────┐    │
│ │ 키워드       │ 카테고리 │ 관리   │    │
│ ├──────────────┼──────────┼────────┤    │
│ │ 배달의민족   │ 식비     │ ✏️ 🗑️ │    │
│ │ 스타벅스     │ 식비     │ ✏️ 🗑️ │    │
│ │ 카카오택시   │ 교통비   │ ✏️ 🗑️ │    │
│ └──────────────┴──────────┴────────┘    │
│ [+ 규칙 추가]                            │
│                                          │
│ ── 데이터 관리 ───────────────            │
│                                          │
│ [📥 전체 데이터 CSV 내보내기]            │
│                                          │
│ ── 계정 ─────────────────────            │
│                                          │
│ 로그인: hyojin@example.com               │
│ [로그아웃]                               │
│                                          │
└──────────────────────────────────────────┘
```

---

## 공통 UI 컴포넌트

### Button
- variant: `default` | `outline` | `ghost` | `destructive`
- size: `sm` | `md` | `lg`

### Input
- label, placeholder, error 메시지
- 금액 입력 시 자동 포맷 (1,000 단위 콤마)

### Select
- person_type 선택, 카테고리 선택, 카드사 선택

### Modal / Dialog
- CRUD 폼용 모달
- 확인 다이얼로그 (삭제 시)

### Table
- 정렬 가능 헤더
- 반응형 (모바일에서 카드 뷰로 전환)

### Empty State
- 데이터 없을 때 안내 메시지 + CTA 버튼

### Loading State
- 스켈레톤 UI (서버 컴포넌트 Suspense)

### Month Picker
- 월 이동 버튼 (이전/다음)
- 현재 월 표시
